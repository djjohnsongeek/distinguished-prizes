{% extends "layouts/base.html" %}

{% block header %}
{% endblock %}

{% block content %}
<div class="tabs is-centered is-medium">
    <ul>
        <li class="toggle" data-target="sweepstakes-past-container">
            <a>
                <span class="icon is-small"><i class="fa-solid fa-clock-rotate-left"></i></span>
                Past
            </a>
        </li>
        <li class="toggle is-active" data-target="sweepstakes-current-container">
            <a>
                <span class="icon is-small"><i class="fa-solid fa-gift"></i></span>
                Current
            </a>
        </li>
        <li class="toggle" data-target="sweepstakes-future-container">
            <a>
                <span class="icon is-small"><i class="fa-solid fa-calendar-days"></i></span>
                Future
            </a>
        </li>
    </ul>
</div>
<!-- Current -->
<div id="sweepstakes-current-container" class="shown toggle-container">
    {% if not sweepstakes["current"] %}
        {% include 'includes/_no_prizes.html' %}
    {% endif %}
    {% for sweepstake in sweepstakes["current"] %}
        {% include 'includes/_sweepstakes_card.html' %}
    {% endfor %}
</div>
<!-- Past -->
<div id="sweepstakes-past-container" class="hidden toggle-container">
    {% if not sweepstakes["past"] %}
        {% include 'includes/_no_prizes.html' %}
    {% endif %}
    {% for sweepstake in sweepstakes["past"] %}
        {% include 'includes/_sweepstakes_card.html' %}
    {% endfor %}
</div>
<!-- Future -->
<div id="sweepstakes-future-container" class="hidden  toggle-container">
    {% if not sweepstakes["future"] %}
        {% include 'includes/_no_prizes.html' %}
    {% endif %}
    {% for sweepstake in sweepstakes["future"] %}
        {% include 'includes/_sweepstakes_card.html' %}
    {% endfor %}
</div>
<script>
    // HOVER for sweepstake cards
    for (let element of document.getElementsByClassName("image")) {
        element.addEventListener("mouseover", (event) => {
            let contentDiv = event.target.parentElement.parentElement.parentElement.parentElement;
            // Sanity Check
            if (!contentDiv.classList.contains("card-content")) {
                alert("Invalid content element selected");
                console.log(contentDiv);
                return;
            }

            contentDiv.classList.add("has-background-primary");
        });
    }

    for (let element of document.getElementsByClassName("image")) {
        element.addEventListener("mouseout", (event) => {
            let contentDiv = event.target.parentElement.parentElement.parentElement.parentElement;
            // Sanity Check
            if (!contentDiv.classList.contains("card-content")) {
                alert("Invalid content element selected");
                console.log(contentDiv);
                return;
            }

            contentDiv.classList.remove("has-background-primary");
        });
    }
</script>
{% endblock %}